import{createRequire as e}from"module";var t={8545:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);o(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const i=s(r(2087));const a=r(6403);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+i.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const c="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=c+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${c}${escapeData(this.message)}`;return e}}function escapeData(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},6283:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);o(t,e);return t};var i=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(8545);const c=r(4166);const u=r(6403);const l=s(r(2087));const f=s(r(5622));var p;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(p=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=u.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${l.EOL}${r}${l.EOL}${t}`;c.issueCommand("ENV",n)}else{a.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){c.issueCommand("PATH",e)}else{a.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));return r}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const n=["false","False","FALSE"];const o=getInput(e,t);if(r.includes(o))return true;if(n.includes(o))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){process.stdout.write(l.EOL);a.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=p.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}t.debug=debug;function error(e){a.issue("error",e instanceof Error?e.toString():e)}t.error=error;function warning(e){a.issue("warning",e instanceof Error?e.toString():e)}t.warning=warning;function info(e){process.stdout.write(e+l.EOL)}t.info=info;function startGroup(e){a.issue("group",e)}t.startGroup=startGroup;function endGroup(){a.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return i(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){a.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState},4166:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);o(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issueCommand=void 0;const i=s(r(5747));const a=s(r(2087));const c=r(6403);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!i.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}i.appendFileSync(r,`${c.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},6403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue},7222:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=r(8614);const s=n(r(9040));const i=n(r(3890));const a=s.default("agent-base");function isAgent(e){return Boolean(e)&&typeof e.addRequest==="function"}function isSecureEndpoint(){const{stack:e}=new Error;if(typeof e!=="string")return false;return e.split("\n").some((e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1))}function createAgent(e,t){return new createAgent.Agent(e,t)}(function(e){class Agent extends o.EventEmitter{constructor(e,t){super();let r=t;if(typeof e==="function"){this.callback=e}else if(e){r=e}this.timeout=null;if(r&&typeof r.timeout==="number"){this.timeout=r.timeout}this.maxFreeSockets=1;this.maxSockets=1;this.maxTotalSockets=Infinity;this.sockets={};this.freeSockets={};this.requests={};this.options={}}get defaultPort(){if(typeof this.explicitDefaultPort==="number"){return this.explicitDefaultPort}return isSecureEndpoint()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){if(typeof this.explicitProtocol==="string"){return this.explicitProtocol}return isSecureEndpoint()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);if(typeof r.secureEndpoint!=="boolean"){r.secureEndpoint=isSecureEndpoint()}if(r.host==null){r.host="localhost"}if(r.port==null){r.port=r.secureEndpoint?443:80}if(r.protocol==null){r.protocol=r.secureEndpoint?"https:":"http:"}if(r.host&&r.path){delete r.path}delete r.agent;delete r.hostname;delete r._defaultAgent;delete r.defaultPort;delete r.createConnection;e._last=true;e.shouldKeepAlive=false;let n=false;let o=null;const s=r.timeout||this.timeout;const onerror=t=>{if(e._hadError)return;e.emit("error",t);e._hadError=true};const ontimeout=()=>{o=null;n=true;const e=new Error(`A "socket" was not created for HTTP request before ${s}ms`);e.code="ETIMEOUT";onerror(e)};const callbackError=e=>{if(n)return;if(o!==null){clearTimeout(o);o=null}onerror(e)};const onsocket=t=>{if(n)return;if(o!=null){clearTimeout(o);o=null}if(isAgent(t)){a("Callback returned another Agent instance %o",t.constructor.name);t.addRequest(e,r);return}if(t){t.once("free",(()=>{this.freeSocket(t,r)}));e.onSocket(t);return}const s=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);onerror(s)};if(typeof this.callback!=="function"){onerror(new Error("`callback` is not defined"));return}if(!this.promisifiedCallback){if(this.callback.length>=3){a("Converting legacy callback function to promise");this.promisifiedCallback=i.default(this.callback)}else{this.promisifiedCallback=this.callback}}if(typeof s==="number"&&s>0){o=setTimeout(ontimeout,s)}if("port"in r&&typeof r.port!=="number"){r.port=Number(r.port)}try{a("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`);Promise.resolve(this.promisifiedCallback(e,r)).then(onsocket,callbackError)}catch(e){Promise.reject(e).catch(callbackError)}}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t);e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=Agent;e.prototype=e.Agent.prototype})(createAgent||(createAgent={}));e.exports=createAgent},3890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function promisify(e){return function(t,r){return new Promise(((n,o)=>{e.call(this,t,r,((e,t)=>{if(e){o(e)}else{n(t)}}))}))}}t.default=promisify},1863:function(e){(function(){var t,r,n,o,s,i,a=[].slice,c={}.hasOwnProperty;e.exports=t=function(e){return s(e)};s=function(e,t,n){var o,s;if(t==null){t=e.name}if(n==null){n=r}if(/^class/.test(e.toString())){o=n(e,i(t,e,(function(){var t,r;t=1<=arguments.length?a.call(arguments,0):[];if(this instanceof o||!(r=o.prototype.__class_call__)){return new(e.bind.apply(e,[e].concat(t)))}else{return r.apply(o.prototype,arguments)}})))}else{o=n(e,i(t,e,(function(){var t,r,n;if(this instanceof o){return e.apply(this,arguments)}else if(t=o.prototype.__class_call__){return t.apply(o.prototype,arguments)}else{r=new s;n=e.apply(r,arguments);if(Object(n)===n){return n}else{return r}}})));(s=function(){}).prototype=o.prototype}return o};o=Object.getOwnPropertyDescriptor;n=Object.defineProperty;r=function(e,t){var r,s,i,a,u,l,f,p;a=[].concat((f=typeof Object.getOwnPropertyNames==="function"?Object.getOwnPropertyNames(e):void 0)!=null?f:[]).concat((l=typeof Object.getOwnPropertySymbols==="function"?Object.getOwnPropertySymbols(e):void 0)!=null?l:[]);if(a.length&&o!=null&&n!=null){for(s=0,u=a.length;s<u;s++){i=a[s];r=o(t,i);if((r!=null?r.configurable:void 0)===false){if(r.writable){t[i]=e[i]}continue}try{n(t,i,o(e,i))}catch(e){}}}else{for(i in e){if(!c.call(e,i))continue;p=e[i];t[i]=p}t.prototype=e.prototype}if(t.__proto__!==e.__proto__){try{t.__proto__=e.__proto__}catch(e){}}t.prototype.constructor=t;return t};t.subclass=function(e,t,r){if(typeof e==="function"){r=t;t=e;e=t.name}return s(t,e,(function(e,n){n.prototype=Object.create(t.prototype,r);n.prototype.constructor=n;n.__proto__=e;return n}))};i=function(e,t,r){var n,o,s,i,a,c,u,l,f;t={name:e,length:t.length};u=["name","length"];for(s=0,a=u.length;s<a;s++){c=u[s];if(r[c]!==t[c]){try{r[c]=t[c]}catch(e){}}if(r[c]!==t[c]){try{Object.defineProperty(r,c,{value:t[c]})}catch(e){}}}if(r.name!==e||r.length!==t.length){n="";if(t.length){n="arg"+function(){f=[];for(var e=1,r=t.length;1<=r?e<=r:e>=r;1<=r?e++:e--){f.push(e)}return f}.apply(this).join(", arg")}try{r=new Function("$$"+e,o=("return function NAME("+n+") {\n    return $$NAME.apply(this, arguments);\n}").replace(/NAME/g,e))(r)}catch(e){}}return r}}).call(this)},6443:e=>{"use strict";e.exports=Error.captureStackTrace||function(e){var t=new Error;Object.defineProperty(e,"stack",{configurable:true,get:function getStack(){var e=t.stack;Object.defineProperty(this,"stack",{value:e});return e}})}},1464:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(335);const i=r(4267);const a={dnsRecords:r(7920),enterpriseZoneWorkersScripts:r(1357),enterpriseZoneWorkersRoutes:r(7423),enterpriseZoneWorkersKVNamespaces:r(6024),enterpriseZoneWorkersKV:r(6103),ips:r(8724),pageRules:r(3771),zones:r(648),zoneSettings:r(1375),zoneCustomHostNames:r(8110),zoneWorkers:r(5320),zoneWorkersScript:r(4300),zoneWorkersRoutes:r(2889),user:r(5160),stream:r(5555)};const c=function withEnvProxy(e){const t=process.env.HTTPS_PROXY||process.env.https_proxy;const r=process.env.NO_PROXY||process.env.no_proxy;if(t){const n=i.proxyAgent(t,r,"https://api.cloudflare.com");if(n){e.agent=n}}};const u=o(n({constructor:function constructor(e){const t={email:e&&e.email,key:e&&e.key,token:e&&e.token};c(t);const r=new s(t);Object.defineProperty(this,"_client",{value:r,writable:false,enumerable:false,configurable:false});Object.keys(a).forEach((function(e){Object.defineProperty(this,e,{value:a[e](this._client),writable:true,enumerable:false,configurable:true})}),this)}}));e.exports=u},335:(e,t,r)=>{"use strict";const n=r(2365);const o=r(6808);const s=r(6943);const i=JSON.stringify({bindings_version:o.version,lang:"node",lang_version:process.version,platform:process.platform,arch:process.arch,publisher:"cloudflare"});const a=function isPlainObject(e){const t=Object.getPrototypeOf(e);const r=Object.prototype.toString;return r.call(e)==="[object Object]"&&(t===null||t===Object.getPrototypeOf({}))};const c=function isUserServiceKey(e){return e&&e.substring(0,5)==="v1.0-"};e.exports=n({constructor:function constructor(e){this.email=e.email;this.key=e.key;this.token=e.token;this.getter=new s(e)},request(e,t,r,n){const s=`https://api.cloudflare.com/client/v4/${t}`;const u=n.auth.key||this.key;const l=n.auth.token||this.token;const f=n.auth.email||this.email;const p={json:n.json!==false,timeout:n.timeout||1e4,retries:n.retries,method:e,headers:{"user-agent":`cloudflare/${o.version} node/${process.versions.node}`,"Content-Type":n.contentType||"application/json",Accept:"application/json","X-Cloudflare-Client-User-Agent":i}};if(c(u)){p.headers["X-Auth-User-Service-Key"]=u}else if(u){p.headers["X-Auth-Key"]=u;p.headers["X-Auth-Email"]=f}else if(l){p.headers.Authorization=`Bearer ${l}`}if(e==="GET"){p.query=r}else{p.body=r}if(p.body&&(a(p.body)||Array.isArray(p.body))){p.body=JSON.stringify(p.body)}return this.getter.got(s,p).then((e=>e.body))}})},6943:(e,t,r)=>{"use strict";const n=r(2365);const o=r(7790);const s=r(6611);e.exports=n({constructor:function constructor(e){this._agent=e.agent},got(e,t){t=o({},t);t.agent=this._agent;return s(e,t)}})},2437:(e,t,r)=>{"use strict";const n=r(2365);const o=r(3895);const s={browse:o({method:"GET"}),read:o({method:"GET",path:":id"}),edit:o({method:"PATCH",path:":id"}),add:o({method:"POST"}),del:o({method:"DELETE",path:":id"})};e.exports=n({constructor:function constructor(e){Object.defineProperty(this,"_client",{value:e,writable:false,enumerable:false,configurable:false});if(Array.isArray(this.includeBasic)){this.includeBasic.forEach((function(e){Object.defineProperty(this,e,{value:s[e],writable:true,enumerable:false,configurable:true})}),this)}},createFullPath(e){return e&&[this.path,e].join("/")||this.path},path:"",hasBrokenPatch:false})},3895:(e,t,r)=>{"use strict";const n=r(8671);const o=["key","email","token"];const s=function isPlainObject(e){const t=Object.getPrototypeOf(e);const r=Object.prototype.toString;return r.call(e)==="[object Object]"&&(t===null||t===Object.getPrototypeOf({}))};const i=function isOptionsHash(e){const hasProp=function(t,r){if(t){return t}return Object.prototype.hasOwnProperty.call(e,r)};return s(e)&&o.reduce(hasProp,false)};const a=function getDataFromArgs(e){if(e.length>0){if(!i(e[0])){return e.shift()}}return{}};const c=function getOptionsFromArgs(e){const t={auth:{},headers:{}};if(e.length>0){const r=e[e.length-1];if(i(r)){const r=e.pop();if(r.key){t.auth.key=r.key}if(r.email){t.auth.email=r.email}}}return t};const u=function identity(e){return e};e.exports=function(e){const t=(e.method||"GET").toUpperCase();const r=e.encode||u;const o=e.json!==false;const s=e.contentType||"application/json";return function(){const i=this.createFullPath(e.path);const u=new n(i);const l=u.names;let f;const p=Array.prototype.slice.call(arguments);const d={};for(let e=0,r=l.length;e<r;e++){const r=p[0];const n=l[e];if(!r){f=new Error(`Cloudflare: Argument "${l[e]}" required, but got: ${r} (on API request to ${t} ${i})`);return Promise.reject(f)}d[n]=p.shift()}const h=r(a(p));const g=c(p);g.json=o;g.contentType=s;if(p.length!==0){f=new Error(`Cloudflare: Unknown arguments (${p}). Did you mean to pass an options object? (on API request to ${t} ${i})`);return Promise.reject(f)}const m=u.stringify(d);if(t!=="PATCH"||!this.hasBrokenPatch){return this._client.request(t,m,h,g)}const y=Object.keys(h);const b=function sendPatch(){const e=y.pop();const r={};r[e]=h[e];return this._client.request(t,m,r,g).then((e=>{if(y.length>0){return sendPatch.call(this)}return e}))};return b.call(this)}}},4267:(e,t,r)=>{"use strict";const n=r(7054);const o=r(9313);const s=function proxyAgent(e,t,r){if(!e){return null}t=t||"";const s=n(r,{no_proxy:t});if(!s){return null}return new o(e)};e.exports.proxyAgent=s},7920:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones/:zoneId/dns_records",includeBasic:["browse","read","add","del"],edit:i({method:"PUT",path:":id"}),export:i({method:"GET",path:"export",json:false})}))},6103:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"accounts/:accountId/storage/kv/namespaces/:namespaceId",browse:i({method:"GET",path:"keys"}),add:i({method:"PUT",path:"values/:id"}),read:i({method:"GET",path:"values/:id",json:false,contentType:"text/plain"}),del:i({method:"DELETE",path:"values/:id"}),addMulti:i({method:"PUT",path:"bulk"}),delMulti:i({method:"DELETE",path:"bulk"})}))},6024:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"accounts/:accountId/storage/kv/namespaces",includeBasic:["browse","add","del"],edit:i({method:"PUT",path:":id"})}))},7423:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones/:zoneId/workers/routes",includeBasic:["browse","read","add","del"],edit:i({method:"PUT",path:":id"})}))},1357:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"accounts/:accountId/workers/scripts",includeBasic:["browse","del"],read:i({method:"GET",path:":name",json:false}),edit:i({method:"PUT",path:":name",contentType:"application/javascript"})}))},8724:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);e.exports=o(n({extends:s,path:"ips",includeBasic:["browse"]}))},3771:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);e.exports=o(n({extends:s,path:"zones/:zoneId/pagerules",includeBasic:["browse","read","edit","add","del"]}))},5555:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"accounts/:accountId/stream",hasBrokenPatch:true,includeBasic:["browse","read","edit","add","del"],listVideos:i({method:"GET"}),videoDetails:i({method:"GET",path:":id"}),uploadVideoFromUrl:i({method:"POST",path:"copy"}),deleteVideo:i({method:"DELETE",path:":id"})}))},5160:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"user",read:i({method:"GET"}),edit:i({method:"PATCH"})}))},8110:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);e.exports=o(n({extends:s,path:"zones/:zoneId/custom_hostnames",includeBasic:["browse","read","edit","add","del"]}))},1375:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones/:zoneId/settings",includeBasic:["browse","read","edit"],editAll:i({method:"PATCH"})}))},5320:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones/:zoneId/workers",validate:i({method:"PUT",path:"validate",contentType:"application/javascript"})}))},2889:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones/:zoneId/workers/filters",includeBasic:["browse","read","add","del"],edit:i({method:"PUT",path:":id"})}))},4300:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones/:zoneId/workers/script",read:i({method:"GET",json:false}),edit:i({method:"PUT",contentType:"application/javascript"}),del:i({method:"DELETE"})}))},648:(e,t,r)=>{"use strict";const n=r(2365);const o=r(1863);const s=r(2437);const i=r(3895);e.exports=o(n({extends:s,path:"zones",hasBrokenPatch:true,includeBasic:["browse","read","edit","add","del"],activationCheck:i({method:"PUT",path:":id/activation_check"}),purgeCache:i({method:"POST",path:":id/purge_cache"})}))},9914:(e,t,r)=>{"use strict";var n=r(6443);function inherits(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}e.exports=function createErrorClass(e,t){if(typeof e!=="string"){throw new TypeError("Expected className to be a string")}if(/[^0-9a-zA-Z_$]/.test(e)){throw new Error("className contains invalid characters")}t=t||function(e){this.message=e};var ErrorClass=function(){Object.defineProperty(this,"name",{configurable:true,value:e,writable:true});n(this,this.constructor);t.apply(this,arguments)};inherits(ErrorClass,Error);return ErrorClass}},1636:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){o=n}}));t.splice(o,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(2556)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2556:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(7808);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let o;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const o=n-(t||n);r.diff=o;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}s++;const o=createDebug.formatters[n];if(typeof o==="function"){const n=e[s];t=o.call(r,n);e.splice(s,1);s--}return t}));createDebug.formatArgs.call(r,e);const i=r.log||createDebug.log;i.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;o=createDebug.enabled(e)}return o},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.slice(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},9040:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(1636)}else{e.exports=r(8372)}},8372:(e,t,r)=>{const n=r(3867);const o=r(1669);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(2987);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const o="[3"+(n<8?n:"8;5;"+n);const s=`  ${o};1m${r} [0m`;t[0]=s+t[0].split("\n").join("\n"+s);t.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(o.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(2556)(t);const{formatters:s}=e.exports;s.o=function(e){this.inspectOpts.colors=this.useColors;return o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};s.O=function(e){this.inspectOpts.colors=this.useColors;return o.inspect(e,this.inspectOpts)}},2968:(e,t,r)=>{(function(){r(822).config(Object.assign({},r(9266),r(5557)(process.argv)))})()},5557:e=>{const t=/^dotenv_config_(encoding|path|debug)=(.+)$/;e.exports=function optionMatcher(e){return e.reduce((function(e,r){const n=r.match(t);if(n){e[n[1]]=n[2]}return e}),{})}},9266:e=>{const t={};if(process.env.DOTENV_CONFIG_ENCODING!=null){t.encoding=process.env.DOTENV_CONFIG_ENCODING}if(process.env.DOTENV_CONFIG_PATH!=null){t.path=process.env.DOTENV_CONFIG_PATH}if(process.env.DOTENV_CONFIG_DEBUG!=null){t.debug=process.env.DOTENV_CONFIG_DEBUG}e.exports=t},822:(e,t,r)=>{const n=r(5747);const o=r(5622);const s=r(2087);function log(e){console.log(`[dotenv][DEBUG] ${e}`)}const i="\n";const a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/;const c=/\\n/g;const u=/\r\n|\n|\r/;function parse(e,t){const r=Boolean(t&&t.debug);const n={};e.toString().split(u).forEach((function(e,t){const o=e.match(a);if(o!=null){const e=o[1];let t=o[2]||"";const r=t.length-1;const s=t[0]==='"'&&t[r]==='"';const a=t[0]==="'"&&t[r]==="'";if(a||s){t=t.substring(1,r);if(s){t=t.replace(c,i)}}else{t=t.trim()}n[e]=t}else if(r){log(`did not match key and value when parsing line ${t+1}: ${e}`)}}));return n}function resolveHome(e){return e[0]==="~"?o.join(s.homedir(),e.slice(1)):e}function config(e){let t=o.resolve(process.cwd(),".env");let r="utf8";let s=false;if(e){if(e.path!=null){t=resolveHome(e.path)}if(e.encoding!=null){r=e.encoding}if(e.debug!=null){s=true}}try{const e=parse(n.readFileSync(t,{encoding:r}),{debug:s});Object.keys(e).forEach((function(t){if(!Object.prototype.hasOwnProperty.call(process.env,t)){process.env[t]=e[t]}else if(s){log(`"${t}" is already defined in \`process.env\` and will not be overwritten`)}}));return{parsed:e}}catch(e){return{error:e}}}e.exports.config=config;e.exports.parse=parse},941:(e,t,r)=>{"use strict";var n=r(2413);function DuplexWrapper(e,t,r){if(typeof r==="undefined"){r=t;t=e;e=null}n.Duplex.call(this,e);if(typeof r.read!=="function"){r=new n.Readable(e).wrap(r)}this._writable=t;this._readable=r;this._waiting=false;var o=this;t.once("finish",(function(){o.end()}));this.once("finish",(function(){t.end()}));r.on("readable",(function(){if(o._waiting){o._waiting=false;o._read()}}));r.once("end",(function(){o.push(null)}));if(!e||typeof e.bubbleErrors==="undefined"||e.bubbleErrors){t.on("error",(function(e){o.emit("error",e)}));r.on("error",(function(e){o.emit("error",e)}))}}DuplexWrapper.prototype=Object.create(n.Duplex.prototype,{constructor:{value:DuplexWrapper}});DuplexWrapper.prototype._write=function _write(e,t,r){this._writable.write(e,t,r)};DuplexWrapper.prototype._read=function _read(){var e;var t=0;while((e=this._readable.read())!==null){this.push(e);t++}if(t===0){this._waiting=true}};e.exports=function duplex2(e,t,r){return new DuplexWrapper(e,t,r)};e.exports.DuplexWrapper=DuplexWrapper},2365:e=>{
/*!
Copyright (C) 2015 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var t=t||function(e){"use strict";
/*! (C) Andrea Giammarchi - MIT Style License */var t="constructor",r="extends",n="implements",o="init",s="prototype",i="static",a="super",c="toString",u="value",l="with",f="__proto__",p=["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString",c,"valueOf"],d=e[s],h=d[p[0]],g=d[c],m=d[p[2]]||function(e){for(var t in this)if(e===t)return h.call(this,e);return false},y=!m.call({toString:0},c),b=e.create||function(e){var t=this instanceof b;b[s]=t?v:e||d;return t?this:new b},v=b[s],C=e.defineProperty,w=e.getOwnPropertyDescriptor,_=e.getOwnPropertyNames||function(e){var t=[],r,n;for(n in e){if(h.call(e,n)){t.push(n)}}if(y){for(r=0;r<p.length;r++){n=p[r];if(h.call(e,n)){t.push(n)}}}return t},E=e.getOwnPropertySymbols||function(){return[]},O=e.getPrototypeOf,x=O||function(e){return e[f]||null},oK=function(e){return _(e).concat(E(e))},T=Array.isArray||function(e){return g.call(e)==="[object Array]"},S=_((function(){})).concat("arguments"),P=S.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;){}return t},A={value:true},j=(""+function(){this["super"]()}).indexOf(a)<0?function(){return true}:function(e){var t=""+e,r=t.indexOf(a);return r<0?false:isBoundary(t.charCodeAt(r-1))&&isBoundary(t.charCodeAt(r+5))};try{C({},"{}",{})}catch(e){if("__defineGetter__"in{}){C=function(e,t,r){if(h.call(r,u)){e[t]=r[u]}else{if(h.call(r,"get")){e.__defineGetter__(t,r.get)}if(h.call(r,"set")){e.__defineSetter__(t,r.set)}}return e};w=function(e,t){var r=e.__lookupGetter__(t),n=e.__lookupSetter__(t),o={};if(r||n){if(r){o.get=r}if(n){o.set=n}}else{o[u]=e[t]}return o}}else{C=function(e,t,r){e[t]=r[u];return e};w=function(e,t){return{value:e[t]}}}}function addMixins(e,t,r,n){for(var s,i=[],a=0;a<e.length;a++){s=transformMixin(e[a]);if(h.call(s,o)){i.push(s[o])}copyOwn(s,t,r,false,false,n)}return i}function copyDeep(e){for(var t,r,n,o=b(x(e)),s=oK(e),i=0;i<s.length;i++){t=s[i];r=w(e,t);if(h.call(r,u)){copyValueIfObject(r,copyDeep)}C(o,t,r)}return o}function copyMerged(e,t){for(var r,n,o,s,i=oK(e),a=0;a<i.length;a++){r=i[a];n=w(e,r);if(h.call(t,r)){if(h.call(n,u)){o=n[u];if(isObject(o)){n=w(t,r);if(h.call(n,u)){s=n[u];if(isObject(s)){copyMerged(o,s)}}}}}else{if(h.call(n,u)){copyValueIfObject(n,copyDeep)}C(t,r,n)}}}function copyOwn(e,t,r,n,o,s){for(var i,a=typeof e!=="function",c=oK(e),u=0;u<c.length;u++){i=c[u];if((a||P.call(S,i)<0)&&isNotASpecialKey(i,o)){if(h.call(t,i)){warn("duplicated: "+i.toString())}setProperty(r,t,i,w(e,i),n,s)}}}function copyValueIfObject(e,t){var r=e[u];if(isObject(r)){e[u]=t(r)}}function createConstructor(e,t){var r=function Class(){};return e&&""+t!==""+r?function Class(){return t.apply(this,arguments)}:r}function define(e,t,r,n){var o=isConfigurable(t,n);C(e,t,{enumerable:false,configurable:o,writable:o,value:r})}function isBoundary(e){return e?(e<65||90<e)&&(e<97||122<e)&&e!==95:true}function isConfigurable(e,t){return t?!isPublicStatic(e):true}function isNotASpecialKey(e,c){return e!==t&&e!==r&&e!==n&&e!==s&&e!==i&&e!==a&&e!==l&&(c||e!==o)}function isObject(e){return e!=null&&typeof e==="object"}function isPublicStatic(e){for(var t,r=0;r<e.length;r++){t=e.charCodeAt(r);if((t<65||90<t)&&t!==95){return false}}return true}function transformMixin(t){if(isObject(t))return t;else{var r,n,s,i,a;if(t.isClass){if(t.length){warn((t.name||"Class")+" should not expect arguments")}for(i={init:t},a=t.prototype;a&&a!==e.prototype;a=x(a)){for(r=0,s=oK(a);r<s.length;r++){n=s[r];if(isNotASpecialKey(n,false)&&!h.call(i,n)){C(i,n,w(a,n))}}}}else{for(r=0,i={},a=t({}),s=oK(a);r<s.length;r++){n=s[r];if(n!==o){if(~n.toString().indexOf("mixin:init")&&T(a[n])){i.init=a[n][0]}else{C(i,n,w(a,n))}}}}return i}}function setProperty(e,r,n,o,s,i){var a=h.call(o,u),c,l;if(s){if(h.call(r,n)){if(e&&isObject(r[n])&&isObject(e[t][n])){copyMerged(e[t][n],r[n])}return}else if(a){copyValueIfObject(o,copyDeep)}}else if(a){l=o[u];if(typeof l==="function"&&j(l)){o[u]=wrap(e,n,l,s)}}else if(i){wrapGetOrSet(e,n,o,"get");wrapGetOrSet(e,n,o,"set")}c=isConfigurable(n,s);o.enumerable=false;o.configurable=c;if(a){o.writable=c}C(r,n,o)}function verifyImplementations(e,t){for(var r,n,o=0;o<e.length;o++){r=e[o];for(n in r){if(h.call(r,n)&&!h.call(t,n)){warn(n.toString()+" is not implemented")}}}}function warn(e){try{console.warn(e)}catch(e){}}function wrap(e,t,r,n){return function(){if(!h.call(this,a)){define(this,a,null,n)}var o=this[a],s=this[a]=e[t],i=r.apply(this,arguments);this[a]=o;return i}}function wrapGetOrSet(e,t,r,n,o){if(h.call(r,n)&&j(r[n])){r[n]=wrap(w(e,t),n,r[n],o)}}return function(e){var o=h.call(e,t),a=h.call(e,r),c=a&&e[r],u=a&&typeof c==="function",p=u?c[s]:c,d=o?e[t]:createConstructor(u,c),m=a&&o&&j(d),y=a?b(p):d[s],v=g.call(p).indexOf(" GObject_")<0,w,_;if(m&&v){d=wrap(p,t,d,false)}if(h.call(e,l)){w=addMixins([].concat(e[l]),y,p,v);_=w.length;if(_){d=function(e){return function(){var t=0;while(t<_)w[t++].call(this);return e.apply(this,arguments)}}(d);d[s]=y}}if(h.call(e,i)){copyOwn(e[i],d,p,true,true,v)}if(a){if(c!==p){copyOwn(c,d,p,true,true,v)}d[s]=y}if(y[t]!==d){define(y,t,d,false)}copyOwn(e,y,p,false,true,v);if(h.call(e,n)){verifyImplementations([].concat(e[n]),y)}if(a&&!O){define(y,f,p,false)}return C(d,"isClass",A)}}(Object);e.exports=t},5937:(e,t,r)=>{"use strict";const n=r(2413).PassThrough;e.exports=e=>{e=Object.assign({},e);const t=e.array;let r=e.encoding;const o=r==="buffer";let s=false;if(t){s=!(r||o)}else{r=r||"utf8"}if(o){r=null}let i=0;const a=[];const c=new n({objectMode:s});if(r){c.setEncoding(r)}c.on("data",(e=>{a.push(e);if(s){i=a.length}else{i+=e.length}}));c.getBufferedValue=()=>{if(t){return a}return o?Buffer.concat(a,i):a.join("")};c.getBufferedLength=()=>i;return c}},2925:(e,t,r)=>{"use strict";const n=r(5937);function getStream(e,t){if(!e){return Promise.reject(new Error("Expected a stream"))}t=Object.assign({maxBuffer:Infinity},t);const r=t.maxBuffer;let o;let s;const i=new Promise(((i,a)=>{const error=e=>{if(e){e.bufferedData=o.getBufferedValue()}a(e)};o=n(t);e.once("error",error);e.pipe(o);o.on("data",(()=>{if(o.getBufferedLength()>r){a(new Error("maxBuffer exceeded"))}}));o.once("error",error);o.on("end",i);s=()=>{if(e.unpipe){e.unpipe(o)}}}));i.then(s,s);return i.then((()=>o.getBufferedValue()))}e.exports=getStream;e.exports.buffer=(e,t)=>getStream(e,Object.assign({},t,{encoding:"buffer"}));e.exports.array=(e,t)=>getStream(e,Object.assign({},t,{array:true}))},6611:(e,t,r)=>{"use strict";const n=r(8614);const o=r(8605);const s=r(7211);const i=r(2413).PassThrough;const a=r(8835);const c=r(1191);const u=r(941);const l=r(3498);const f=r(2925);const p=r(7721);const d=r(4761);const h=r(2716);const g=r(6571);const m=r(8529);const y=r(9914);const b=r(2447);const v=r(4446).Buffer;const C=r(9242);function requestAsEventEmitter(e){e=e||{};const t=new n;const r=e.href||a.resolve(a.format(e),e.path);let i=0;let c=0;let u;const get=e=>{const n=e.protocol==="https:"?s:o;const l=n.request(e,(n=>{const o=n.statusCode;if(g(o)&&e.followRedirect&&"location"in n.headers&&(e.method==="GET"||e.method==="HEAD")){n.resume();if(++i>10){t.emit("error",new got.MaxRedirectsError(o,e),null,n);return}const r=v.from(n.headers.location,"binary").toString();u=a.resolve(a.format(e),r);const s=Object.assign({},e,a.parse(u));t.emit("redirect",n,s);get(s);return}setImmediate((()=>{const e=typeof m==="function"&&l.method!=="HEAD"?m(n):n;e.url=u||r;e.requestUrl=r;t.emit("response",e)}))}));l.once("error",(r=>{const n=e.retries(++c,r);if(n){setTimeout(get,n,e);return}t.emit("error",new got.RequestError(r,e))}));if(e.gotTimeout){p(l,e.gotTimeout)}setImmediate((()=>{t.emit("request",l)}))};get(e);return t}function asPromise(e){return new Promise(((t,r)=>{const n=requestAsEventEmitter(e);n.on("request",(t=>{if(l(e.body)){e.body.pipe(t);e.body=undefined;return}t.end(e.body)}));n.on("response",(n=>{const o=e.encoding===null?f.buffer(n):f(n,e);o.catch((t=>r(new got.ReadError(t,e)))).then((r=>{const o=n.statusCode;const s=e.followRedirect?299:399;n.body=r;if(e.json&&n.body){try{n.body=JSON.parse(n.body)}catch(t){throw new got.ParseError(t,o,e,r)}}if(o<200||o>s){console.log(JSON.stringify(n.body));throw new got.HTTPError(o,e)}t(n)})).catch((e=>{Object.defineProperty(e,"response",{value:n});r(e)}))}));n.on("error",r)}))}function asStream(e){const t=new i;const r=new i;const n=u(t,r);if(e.json){throw new Error("got can not be used as stream when options.json is used")}if(e.body){n.write=()=>{throw new Error("got's stream is not writable when options.body is used")}}const o=requestAsEventEmitter(e);o.on("request",(r=>{n.emit("request",r);if(l(e.body)){e.body.pipe(r);return}if(e.body){r.end(e.body);return}if(e.method==="POST"||e.method==="PUT"||e.method==="PATCH"){t.pipe(r);return}r.end()}));o.on("response",(t=>{const o=t.statusCode;t.pipe(r);if(o<200||o>299){n.emit("error",new got.HTTPError(o,e),null,t);return}n.emit("response",t)}));o.on("redirect",n.emit.bind(n,"redirect"));o.on("error",n.emit.bind(n,"error"));return n}function normalizeArguments(e,t){if(typeof e!=="string"&&typeof e!=="object"){throw new Error(`Parameter \`url\` must be a string or object, not ${typeof e}`)}if(typeof e==="string"){e=e.replace(/^unix:/,"http://$&");e=d(e);if(e.auth){throw new Error("Basic authentication must be done with auth option")}}t=Object.assign({protocol:"http:",path:"",retries:5},e,t);t.headers=Object.assign({"user-agent":`${C.name}/${C.version} (https://github.com/sindresorhus/got)`,"accept-encoding":"gzip,deflate"},h(t.headers));const r=t.query;if(r){if(typeof r!=="string"){t.query=c.stringify(r)}t.path=`${t.path.split("?")[0]}?${t.query}`;delete t.query}if(t.json&&t.headers.accept===undefined){t.headers.accept="application/json"}let n=t.body;if(n){if(typeof n!=="string"&&!(n!==null&&typeof n==="object")){throw new Error("options.body must be a ReadableStream, string, Buffer or plain Object")}t.method=t.method||"POST";if(l(n)&&typeof n.getBoundary==="function"){t.headers["content-type"]=t.headers["content-type"]||`multipart/form-data; boundary=${n.getBoundary()}`}else if(n!==null&&typeof n==="object"&&!v.isBuffer(n)&&!l(n)){t.headers["content-type"]=t.headers["content-type"]||"application/x-www-form-urlencoded";n=t.body=c.stringify(n)}if(t.headers["content-length"]===undefined&&t.headers["transfer-encoding"]===undefined&&!l(n)){const e=typeof n==="string"?v.byteLength(n):n.length;t.headers["content-length"]=e}}t.method=(t.method||"GET").toUpperCase();if(t.hostname==="unix"){const e=/(.+):(.+)/.exec(t.path);if(e){t.socketPath=e[1];t.path=e[2];t.host=null}}if(typeof t.retries!=="function"){const e=t.retries;t.retries=(t,r)=>{if(t>e||!b(r)){return 0}const n=Math.random()*100;return(1<<t)*1e3+n}}if(t.followRedirect===undefined){t.followRedirect=true}if(t.timeout){t.gotTimeout=t.timeout;delete t.timeout}return t}function got(e,t){try{return asPromise(normalizeArguments(e,t))}catch(e){return Promise.reject(e)}}const w=["get","post","put","patch","head","delete"];w.forEach((e=>{got[e]=(t,r)=>got(t,Object.assign({},r,{method:e}))}));got.stream=(e,t)=>asStream(normalizeArguments(e,t));for(const e of w){got.stream[e]=(t,r)=>got.stream(t,Object.assign({},r,{method:e}))}function stdError(e,t){if(e.code!==undefined){this.code=e.code}Object.assign(this,{message:e.message,host:t.host,hostname:t.hostname,method:t.method,path:t.path})}got.RequestError=y("RequestError",stdError);got.ReadError=y("ReadError",stdError);got.ParseError=y("ParseError",(function(e,t,r,n){stdError.call(this,e,r);this.statusCode=t;this.statusMessage=o.STATUS_CODES[this.statusCode];this.message=`${e.message} in "${a.format(r)}": \n${n.slice(0,77)}...`}));got.HTTPError=y("HTTPError",(function(e,t){stdError.call(this,{},t);this.statusCode=e;this.statusMessage=o.STATUS_CODES[this.statusCode];this.message=`Response code ${this.statusCode} (${this.statusMessage})`}));got.MaxRedirectsError=y("MaxRedirectsError",(function(e,t){stdError.call(this,{},t);this.statusCode=e;this.statusMessage=o.STATUS_CODES[this.statusCode];this.message="Redirected 10 times. Aborting."}));e.exports=got},743:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}},5097:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const s=o(r(1631));const i=o(r(4016));const a=o(r(8835));const c=o(r(2357));const u=o(r(9040));const l=r(7222);const f=o(r(2431));const p=u.default("https-proxy-agent:agent");class HttpsProxyAgent extends l.Agent{constructor(e){let t;if(typeof e==="string"){t=a.default.parse(e)}else{t=e}if(!t){throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!")}p("creating new HttpsProxyAgent instance: %o",t);super(t);const r=Object.assign({},t);this.secureProxy=t.secureProxy||isHTTPS(r.protocol);r.host=r.hostname||r.host;if(typeof r.port==="string"){r.port=parseInt(r.port,10)}if(!r.port&&r.host){r.port=this.secureProxy?443:80}if(this.secureProxy&&!("ALPNProtocols"in r)){r.ALPNProtocols=["http 1.1"]}if(r.host&&r.path){delete r.path;delete r.pathname}this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;let o;if(n){p("Creating `tls.Socket`: %o",r);o=i.default.connect(r)}else{p("Creating `net.Socket`: %o",r);o=s.default.connect(r)}const a=Object.assign({},r.headers);const u=`${t.host}:${t.port}`;let l=`CONNECT ${u} HTTP/1.1\r\n`;if(r.auth){a["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`}let{host:d,port:h,secureEndpoint:g}=t;if(!isDefaultPort(h,g)){d+=`:${h}`}a.Host=d;a.Connection="close";for(const e of Object.keys(a)){l+=`${e}: ${a[e]}\r\n`}const m=f.default(o);o.write(`${l}\r\n`);const{statusCode:y,buffered:b}=yield m;if(y===200){e.once("socket",resume);if(t.secureEndpoint){const e=t.servername||t.host;if(!e){throw new Error('Could not determine "servername"')}p("Upgrading socket connection to TLS");return i.default.connect(Object.assign(Object.assign({},omit(t,"host","hostname","path","port")),{socket:o,servername:e}))}return o}o.destroy();const v=new s.default.Socket;v.readable=true;e.once("socket",(e=>{p("replaying proxy buffer for failed request");c.default(e.listenerCount("data")>0);e.push(b);e.push(null)}));return v}))}}t.default=HttpsProxyAgent;function resume(e){e.resume()}function isDefaultPort(e,t){return Boolean(!t&&e===80||t&&e===443)}function isHTTPS(e){return typeof e==="string"?/^https:?$/i.test(e):false}function omit(e,...t){const r={};let n;for(n in e){if(!t.includes(n)){r[n]=e[n]}}return r}},9313:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(5097));function createHttpsProxyAgent(e){return new o.default(e)}(function(e){e.HttpsProxyAgent=o.default;e.prototype=o.default.prototype})(createHttpsProxyAgent||(createHttpsProxyAgent={}));e.exports=createHttpsProxyAgent},2431:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(9040));const s=o.default("https-proxy-agent:parse-proxy-response");function parseProxyResponse(e){return new Promise(((t,r)=>{let n=0;const o=[];function read(){const t=e.read();if(t)ondata(t);else e.once("readable",read)}function cleanup(){e.removeListener("end",onend);e.removeListener("error",onerror);e.removeListener("close",onclose);e.removeListener("readable",read)}function onclose(e){s("onclose had error %o",e)}function onend(){s("onend")}function onerror(e){cleanup();s("onerror %o",e);r(e)}function ondata(e){o.push(e);n+=e.length;const r=Buffer.concat(o,n);const i=r.indexOf("\r\n\r\n");if(i===-1){s("have not received end of HTTP headers yet...");read();return}const a=r.toString("ascii",0,r.indexOf("\r\n"));const c=+a.split(" ")[1];s("got proxy server response: %o",a);t({statusCode:c,buffered:r})}e.on("error",onerror);e.on("close",onclose);e.on("end",onend);read()}))}t.default=parseProxyResponse},6571:e=>{"use strict";e.exports=function(e){if(typeof e!=="number"){throw new TypeError("Expected a number")}return e===300||e===301||e===302||e===303||e===305||e===307||e===308}},2447:e=>{"use strict";var t=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"];var r=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];e.exports=function(e){if(!e||!e.code){return true}if(t.indexOf(e.code)!==-1){return true}if(r.indexOf(e.code)!==-1){return false}return true}},3498:e=>{"use strict";var t=e.exports=function(e){return e!==null&&typeof e==="object"&&typeof e.pipe==="function"};t.writable=function(e){return t(e)&&e.writable!==false&&typeof e._write==="function"&&typeof e._writableState==="object"};t.readable=function(e){return t(e)&&e.readable!==false&&typeof e._read==="function"&&typeof e._readableState==="object"};t.duplex=function(e){return t.writable(e)&&t.readable(e)};t.transform=function(e){return t.duplex(e)&&typeof e._transform==="function"&&typeof e._transformState==="object"}},2716:e=>{"use strict";e.exports=function(e){var t={};var r=Object.keys(Object(e));for(var n=0;n<r.length;n++){t[r[n].toLowerCase()]=e[r[n]]}return t}},7808:e=>{var t=1e3;var r=t*60;var n=r*60;var o=n*24;var s=o*7;var i=o*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var u=(a[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var s=Math.abs(e);if(s>=o){return Math.round(e/o)+"d"}if(s>=n){return Math.round(e/n)+"h"}if(s>=r){return Math.round(e/r)+"m"}if(s>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var s=Math.abs(e);if(s>=o){return plural(e,s,o,"day")}if(s>=n){return plural(e,s,n,"hour")}if(s>=r){return plural(e,s,r,"minute")}if(s>=t){return plural(e,s,t,"second")}return e+" ms"}function plural(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}},7790:e=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var n=Object.prototype.propertyIsEnumerable;function toObject(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function shouldUseNative(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if(n.join("")!=="0123456789"){return false}var o={};"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e}));if(Object.keys(Object.assign({},o)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=shouldUseNative()?Object.assign:function(e,o){var s;var i=toObject(e);var a;for(var c=1;c<arguments.length;c++){s=Object(arguments[c]);for(var u in s){if(r.call(s,u)){i[u]=s[u]}}if(t){a=t(s);for(var l=0;l<a.length;l++){if(n.call(s,a[l])){i[a[l]]=s[a[l]]}}}}return i}},5196:e=>{"use strict";e.exports=function(e){if(typeof e!=="string"){throw new TypeError("Expected a string, got "+typeof e)}e=e.trim();if(/^\.*\/|^(?!localhost)\w+:/.test(e)){return e}return e.replace(/^(?!(?:\w+:)?\/\/)/,"http://")}},4446:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(4293);var o=n.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow){e.exports=n}else{copyProps(n,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return o(e,t,r)}SafeBuffer.prototype=Object.create(o.prototype);copyProps(o,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return o(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=o(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return o(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},7054:(e,t,r)=>{var n=r(8835);function matchDomain(e,t){var r=e.split(".");var n=t.split(".");var o=[];for(var s=0;s<n.length;s++){if(n[s]===""){continue}o.push(n[s])}var i=o.length;var a=0;var c=r.length-1;var u=o.length-1;while(c>-1&&u>-1){if(r[c]===o[u]){++a}--c;--u}if(i==a){return true}return false}function matchNetwork(e,t){t=t.split("/")[0];var r=e.split(".");var n=t.split(".");var o=[];for(var s=0;s<n.length;s++){if(n[s]==="0"){break}o.push(n[s])}var i=o.length;var a=0;for(var s=0;s<r.length&&s<o.length;s++){if(r[s]===o[s]){++a}}if(i==a){return true}return false}function getNoProxy(e){var t="";if(typeof e!=="undefined"){if(typeof e["no_proxy"]!=="undefined"){t=e["no_proxy"]}}else if(typeof process.env["no_proxy"]!=="undefined"){t=process.env["no_proxy"]}return t.split(",")}function matchNoProxy(e,t){var r=n.parse(e);var o=r.hostname;if(o==null){return false}else if(o===t){return true}else if(matchNetwork(o,t)){return true}else if(matchDomain(o,t)){return true}return false}function shouldProxy(e,t){var r=getNoProxy(t);if(r.length<1||r[0].length<1){return true}for(var n=0;n<r.length;n++){if(matchNoProxy(e,r[n])){return false}}return true}e.exports=shouldProxy},2987:(e,t,r)=>{"use strict";const n=r(2087);const o=r(3867);const s=r(743);const{env:i}=process;let a;if(s("no-color")||s("no-colors")||s("color=false")||s("color=never")){a=0}else if(s("color")||s("colors")||s("color=true")||s("color=always")){a=1}function envForceColor(){if("FORCE_COLOR"in i){if(i.FORCE_COLOR==="true"){return 1}if(i.FORCE_COLOR==="false"){return 0}return i.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(i.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,{streamIsTTY:t,sniffFlags:r=true}={}){const o=envForceColor();if(o!==undefined){a=o}const c=r?a:o;if(c===0){return 0}if(r){if(s("color=16m")||s("color=full")||s("color=truecolor")){return 3}if(s("color=256")){return 2}}if(e&&!t&&c===undefined){return 0}const u=c||0;if(i.TERM==="dumb"){return u}if(process.platform==="win32"){const e=n.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in i){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((e=>e in i))||i.CI_NAME==="codeship"){return 1}return u}if("TEAMCITY_VERSION"in i){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0}if(i.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in i){const e=Number.parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(i.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)){return 1}if("COLORTERM"in i){return 1}return u}function getSupportLevel(e,t={}){const r=supportsColor(e,{streamIsTTY:e&&e.isTTY,...t});return translateLevel(r)}e.exports={supportsColor:getSupportLevel,stdout:getSupportLevel({isTTY:o.isatty(1)}),stderr:getSupportLevel({isTTY:o.isatty(2)})}},7721:e=>{"use strict";e.exports=function(e,t){if(e.timeoutTimer){return e}var r=isNaN(t)?t:{socket:t,connect:t};var n=e._headers?" to "+e._headers.host:"";if(r.connect!==undefined){e.timeoutTimer=setTimeout((function timeoutHandler(){e.abort();var t=new Error("Connection timed out on request"+n);t.code="ETIMEDOUT";e.emit("error",t)}),r.connect)}e.on("socket",(function assign(e){if(!(e.connecting||e._connecting)){connect();return}e.once("connect",connect)}));function clear(){if(e.timeoutTimer){clearTimeout(e.timeoutTimer);e.timeoutTimer=null}}function connect(){clear();if(r.socket!==undefined){e.setTimeout(r.socket,(function socketTimeoutHandler(){e.abort();var t=new Error("Socket timed out on request"+n);t.code="ESOCKETTIMEDOUT";e.emit("error",t)}))}}return e.on("error",clear)}},8529:(e,t,r)=>{"use strict";const n=r(2413).PassThrough;const o=r(8761);e.exports=e=>{if(["gzip","deflate"].indexOf(e.headers["content-encoding"])===-1){return e}const t=o.createUnzip();const r=new n;r.httpVersion=e.httpVersion;r.headers=e.headers;r.rawHeaders=e.rawHeaders;r.trailers=e.trailers;r.rawTrailers=e.rawTrailers;r.setTimeout=e.setTimeout.bind(e);r.statusCode=e.statusCode;r.statusMessage=e.statusMessage;r.socket=e.socket;t.on("error",(e=>{if(e.code==="Z_BUF_ERROR"){r.end();return}r.emit("error",e)}));e.pipe(t).pipe(r);return r}},4761:(e,t,r)=>{"use strict";var n=r(8835);var o=r(5196);e.exports=function(e){var t=o(e);var r=n.parse(t);if(t!==e){r.protocol=null}return r}},8671:function(e,t){var r=[].slice;(function(r,n){if("function"===typeof define&&define.amd!=null){return define([],n)}else if(true&&t!==null){return e.exports=n()}else{return r.UrlPattern=n()}})(this,(function(){var e,t,n,o,s,i,a,c,u,l,f,p,d,h,g;u=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};a=function(e,t){var r,n,o;o=[];r=-1;n=e.length;while(++r<n){o=o.concat(t(e[r]))}return o};h=function(e,t){var r,n,o;o="";r=-1;n=e.length;while(++r<n){o+=t(e[r])}return o};d=function(e){return new RegExp(e.toString()+"|").exec("").length-1};f=function(e,t){var r,n,o,s,i;s={};r=-1;o=e.length;while(++r<o){n=e[r];i=t[r];if(i==null){continue}if(s[n]!=null){if(!Array.isArray(s[n])){s[n]=[s[n]]}s[n].push(i)}else{s[n]=i}}return s};e={};e.Result=function(e,t){this.value=e;this.rest=t};e.Tagged=function(e,t){this.tag=e;this.value=t};e.tag=function(t,r){return function(n){var o,s;o=r(n);if(o==null){return}s=new e.Tagged(t,o.value);return new e.Result(s,o.rest)}};e.regex=function(t){return function(r){var n,o;n=t.exec(r);if(n==null){return}o=n[0];return new e.Result(o,r.slice(o.length))}};e.sequence=function(){var t;t=1<=arguments.length?r.call(arguments,0):[];return function(r){var n,o,s,i,a,c;n=-1;o=t.length;c=[];i=r;while(++n<o){s=t[n];a=s(i);if(a==null){return}c.push(a.value);i=a.rest}return new e.Result(c,i)}};e.pick=function(){var t,n;t=arguments[0],n=2<=arguments.length?r.call(arguments,1):[];return function(r){var o,s;s=e.sequence.apply(e,n)(r);if(s==null){return}o=s.value;s.value=o[t];return s}};e.string=function(t){var r;r=t.length;return function(n){if(n.slice(0,r)===t){return new e.Result(t,n.slice(r))}}};e.lazy=function(e){var t;t=null;return function(r){if(t==null){t=e()}return t(r)}};e.baseMany=function(t,r,n,o,s){var i,a,c,u;c=s;u=n?"":[];while(true){if(r!=null){i=r(c);if(i!=null){break}}a=t(c);if(a==null){break}if(n){u+=a.value}else{u.push(a.value)}c=a.rest}if(o&&u.length===0){return}return new e.Result(u,c)};e.many1=function(t){return function(r){return e.baseMany(t,null,false,true,r)}};e.concatMany1Till=function(t,r){return function(n){return e.baseMany(t,r,true,true,n)}};e.firstChoice=function(){var e;e=1<=arguments.length?r.call(arguments,0):[];return function(t){var r,n,o,s;r=-1;n=e.length;while(++r<n){o=e[r];s=o(t);if(s!=null){return s}}}};p=function(t){var r;r={};r.wildcard=e.tag("wildcard",e.string(t.wildcardChar));r.optional=e.tag("optional",e.pick(1,e.string(t.optionalSegmentStartChar),e.lazy((function(){return r.pattern})),e.string(t.optionalSegmentEndChar)));r.name=e.regex(new RegExp("^["+t.segmentNameCharset+"]+"));r.named=e.tag("named",e.pick(1,e.string(t.segmentNameStartChar),e.lazy((function(){return r.name}))));r.escapedChar=e.pick(1,e.string(t.escapeChar),e.regex(/^./));r["static"]=e.tag("static",e.concatMany1Till(e.firstChoice(e.lazy((function(){return r.escapedChar})),e.regex(/^./)),e.firstChoice(e.string(t.segmentNameStartChar),e.string(t.optionalSegmentStartChar),e.string(t.optionalSegmentEndChar),r.wildcard)));r.token=e.lazy((function(){return e.firstChoice(r.wildcard,r.optional,r.named,r["static"])}));r.pattern=e.many1(e.lazy((function(){return r.token})));return r};c={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"};i=function(e,t){if(Array.isArray(e)){return h(e,(function(e){return i(e,t)}))}switch(e.tag){case"wildcard":return"(.*?)";case"named":return"(["+t+"]+)";case"static":return u(e.value);case"optional":return"(?:"+i(e.value,t)+")?"}};s=function(e,t){if(t==null){t=c.segmentValueCharset}return"^"+i(e,t)+"$"};o=function(e){if(Array.isArray(e)){return a(e,o)}switch(e.tag){case"wildcard":return["_"];case"named":return[e.value];case"static":return[];case"optional":return o(e.value)}};l=function(e,t,r,n){var o,s,i,a;if(n==null){n=false}a=e[t];if(a==null){if(n){throw new Error("no values provided for key `"+t+"`")}else{return}}o=r[t]||0;s=Array.isArray(a)?a.length-1:0;if(o>s){if(n){throw new Error("too few values provided for key `"+t+"`")}else{return}}i=Array.isArray(a)?a[o]:a;if(n){r[t]=o+1}return i};n=function(e,t,r){var o,s;if(Array.isArray(e)){o=-1;s=e.length;while(++o<s){if(n(e[o],t,r)){return true}}return false}switch(e.tag){case"wildcard":return l(t,"_",r,false)!=null;case"named":return l(t,e.value,r,false)!=null;case"static":return false;case"optional":return n(e.value,t,r)}};g=function(e,t,r){if(Array.isArray(e)){return h(e,(function(e){return g(e,t,r)}))}switch(e.tag){case"wildcard":return l(t,"_",r,true);case"named":return l(t,e.value,r,true);case"static":return e.value;case"optional":if(n(e.value,t,r)){return g(e.value,t,r)}else{return""}}};t=function(e,r){var n,i,a,u,l;if(e instanceof t){this.isRegex=e.isRegex;this.regex=e.regex;this.ast=e.ast;this.names=e.names;return}this.isRegex=e instanceof RegExp;if(!("string"===typeof e||this.isRegex)){throw new TypeError("argument must be a regex or a string")}if(this.isRegex){this.regex=e;if(r!=null){if(!Array.isArray(r)){throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else")}n=d(this.regex);if(r.length!==n){throw new Error("regex contains "+n+" groups but array of group names contains "+r.length)}this.names=r}return}if(e===""){throw new Error("argument must not be the empty string")}l=e.replace(/\s+/g,"");if(l!==e){throw new Error("argument must not contain whitespace")}i={escapeChar:(r!=null?r.escapeChar:void 0)||c.escapeChar,segmentNameStartChar:(r!=null?r.segmentNameStartChar:void 0)||c.segmentNameStartChar,segmentNameCharset:(r!=null?r.segmentNameCharset:void 0)||c.segmentNameCharset,segmentValueCharset:(r!=null?r.segmentValueCharset:void 0)||c.segmentValueCharset,optionalSegmentStartChar:(r!=null?r.optionalSegmentStartChar:void 0)||c.optionalSegmentStartChar,optionalSegmentEndChar:(r!=null?r.optionalSegmentEndChar:void 0)||c.optionalSegmentEndChar,wildcardChar:(r!=null?r.wildcardChar:void 0)||c.wildcardChar};u=p(i);a=u.pattern(e);if(a==null){throw new Error("couldn't parse pattern")}if(a.rest!==""){throw new Error("could only partially parse pattern")}this.ast=a.value;this.regex=new RegExp(s(this.ast,i.segmentValueCharset));this.names=o(this.ast)};t.prototype.match=function(e){var t,r;r=this.regex.exec(e);if(r==null){return null}t=r.slice(1);if(this.names){return f(this.names,t)}else{return t}};t.prototype.stringify=function(e){if(e==null){e={}}if(this.isRegex){throw new Error("can't stringify patterns generated from a regex")}if(e!==Object(e)){throw new Error("argument must be an object or undefined")}return g(this.ast,e,{})};t.escapeForRegex=u;t.concatMap=a;t.stringConcatMap=h;t.regexGroupCount=d;t.keysAndValuesToObject=f;t.P=e;t.newParser=p;t.defaultOptions=c;t.astNodeToRegexString=s;t.astNodeToNames=o;t.getParam=l;t.astNodeContainsSegmentsForProvidedParams=n;t.stringify=g;return t}))},6808:e=>{"use strict";e.exports=JSON.parse('{"name":"cloudflare","version":"2.9.1","description":"CloudFlare API client","author":"Terin Stock <terinjokes@gmail.com>","bugs":{"url":"https://github.com/cloudflare/node-cloudflare/issues"},"dependencies":{"autocreate":"^1.1.0","es-class":"^2.1.1","got":"^6.3.0","https-proxy-agent":"^5.0.0","object-assign":"^4.1.0","should-proxy":"^1.0.4","url-pattern":"^1.0.3"},"devDependencies":{"coveralls":"^2.13.1","eslint":"^4.15.0","eslint-config-es":"^0.8.12","eslint-config-prettier":"^2.9.0","eslint-plugin-eslint-comments":"^2.0.1","eslint-plugin-mocha":"^4.11.0","eslint-plugin-node":"^5.2.1","eslint-plugin-notice":"^0.5.6","eslint-plugin-prettier":"^2.4.0","eslint-plugin-promise":"^3.6.0","eslint-plugin-security":"^1.4.0","intelli-espower-loader":"^1.0.1","mocha":"^3.4.2","nyc":"^10.3.2","power-assert":"^1.4.4","prettier":"^1.9.2","testdouble":"^3.1.1"},"homepage":"https://github.com/cloudflare/node-cloudflare","keywords":["cloudflare","api"],"license":"MIT","main":"index.js","repository":{"type":"git","url":"git+https://github.com/cloudflare/node-cloudflare.git"},"scripts":{"lint":"eslint \'{index,{lib,test}/**/*}.js\'","test":"nyc --reporter=lcov --reporter=text-summary mocha --require intelli-espower-loader --recursive test","coverage":"cat ./coverage/lcov.info | coveralls"},"files":["index.js","lib"],"xo":{"space":true,"rules":{"unicorn/filename-case":0}},"publishConfig":{"tag":"next"}}')},9242:e=>{"use strict";e.exports=JSON.parse('{"name":"got","version":"6.7.1","description":"Simplified HTTP requests","license":"MIT","repository":"sindresorhus/got","maintainers":[{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"sindresorhus.com"},{"name":"Vsevolod Strukchinsky","email":"floatdrop@gmail.com","url":"github.com/floatdrop"}],"engines":{"node":">=4"},"browser":{"unzip-response":false},"scripts":{"test":"xo && nyc ava","coveralls":"nyc report --reporter=text-lcov | coveralls"},"files":["index.js"],"keywords":["http","https","get","got","url","uri","request","util","utility","simple","curl","wget","fetch"],"dependencies":{"create-error-class":"^3.0.0","duplexer3":"^0.1.4","get-stream":"^3.0.0","is-redirect":"^1.0.0","is-retry-allowed":"^1.0.0","is-stream":"^1.0.0","lowercase-keys":"^1.0.0","safe-buffer":"^5.0.1","timed-out":"^4.0.0","unzip-response":"^2.0.1","url-parse-lax":"^1.0.0"},"devDependencies":{"ava":"^0.17.0","coveralls":"^2.11.4","form-data":"^2.1.1","get-port":"^2.0.0","into-stream":"^3.0.0","nyc":"^10.0.0","pem":"^1.4.4","pify":"^2.3.0","tempfile":"^1.1.1","xo":"*"},"xo":{"esnext":true},"ava":{"concurrency":4}}')},2357:t=>{"use strict";t.exports=e(import.meta.url)("assert")},4293:t=>{"use strict";t.exports=e(import.meta.url)("buffer")},8614:t=>{"use strict";t.exports=e(import.meta.url)("events")},5747:t=>{"use strict";t.exports=e(import.meta.url)("fs")},8605:t=>{"use strict";t.exports=e(import.meta.url)("http")},7211:t=>{"use strict";t.exports=e(import.meta.url)("https")},1631:t=>{"use strict";t.exports=e(import.meta.url)("net")},2087:t=>{"use strict";t.exports=e(import.meta.url)("os")},5622:t=>{"use strict";t.exports=e(import.meta.url)("path")},1191:t=>{"use strict";t.exports=e(import.meta.url)("querystring")},2413:t=>{"use strict";t.exports=e(import.meta.url)("stream")},4016:t=>{"use strict";t.exports=e(import.meta.url)("tls")},3867:t=>{"use strict";t.exports=e(import.meta.url)("tty")},8835:t=>{"use strict";t.exports=e(import.meta.url)("url")},1669:t=>{"use strict";t.exports=e(import.meta.url)("util")},8761:t=>{"use strict";t.exports=e(import.meta.url)("zlib")}};var r={};function __nccwpck_require__(e){var n=r[e];if(n!==undefined){return n.exports}var o=r[e]={exports:{}};var s=true;try{t[e].call(o.exports,o,o.exports,__nccwpck_require__);s=false}finally{if(s)delete r[e]}return o.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=new URL(".",import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/)?1:0,-1)+"/";var n={};(()=>{"use strict";var t=__nccwpck_require__(6283);const r=e(import.meta.url)("process");var n=__nccwpck_require__(5747);var o=__nccwpck_require__(1464);var s=__nccwpck_require__(2968);const niceRecordName=(e,t)=>{const r=e.replace(new RegExp(`.?${t}`,"gi"),"");if(r==="")return"@";return r};const sameRecord=(e,t)=>{const r=e.zone_name||t.zone_name;return e.type===t.type&&e.content===t.content&&(e.proxied??true)===(t.proxied??true)&&e?.ttl===t?.ttl&&e?.priority===t?.priority&&niceRecordName(e.name,r)===niceRecordName(t.name,r)};const printRemoteRecord=(e,t=false)=>{const r=t?`${e.name}.`:niceRecordName(e.name,e.zone_name);return`${r}\t${e.ttl}\tIN\t${e.type}\t${e.priority??""} ${e.content}${e.type==="MX"?".":""}`};const printConfigRecord=(e,t,r=false)=>{const n=`${e.name==="@"?"":`${e.name}.`}${t}.`;const o=r?n:e.name;let s=e.content;const i=e.ttl??1;switch(e.type){case"TXT":s=`"${s}"`;break;case"MX":s=`${e.priority} ${s}.`;break}return`${o}\t${i}\tIN\t${e.type}\t${s}`};const sameDiffArr=(e,t,r=false)=>r?e.filter((e=>t.some((t=>sameRecord(t,e))))):e.filter((e=>t.every((t=>!sameRecord(t,e)))));const partitionRecords=(e,t)=>{const r=sameDiffArr(e,t);const n=sameDiffArr(e,t,true);const o=sameDiffArr(t,e);return{toBeDeleted:r,toBeKept:n,toBeAdded:o}};r.noDeprecation=true;const inputOrEnv=(e,n)=>{const o=t.getInput(e);if(o!=="")return o;const s=r.env[n];return s};const main=async()=>{const e=inputOrEnv("zone","ZONE");if(e===undefined){console.log("Zone not set. Make sure to provide one in the GitHub action.");t.setFailed("Zone not set.");(0,r.exit)(-1)}const s=inputOrEnv("cloudflareToken","CLOUDFLARE_TOKEN");if(s===undefined){console.log("Cloudflare token not found. Make sure to add one in GitHub environments.");t.setFailed("Cloudflare token not found.");(0,r.exit)(-1)}const i=new o({token:s});const a=Boolean(r.env.DRY_RUN);const c=n.readFileSync("./DNS-RECORDS.json").toString();const u=JSON.parse(c);let l="";try{const n=await i.zones.browse();const o=n.result;const s=o.filter((t=>t.name===e)).map((e=>e.id));if(s.length===0){console.log(`No zones found with name: ${e}.`);console.log("Make sure you have it right in DNS-RECORDS.hjson.");t.setFailed("Zone not found.");(0,r.exit)(-1)}l=s[0]}catch(e){console.log(e);t.setFailed(e);(0,r.exit)(-1)}const f=(await i.dnsRecords.browse(l)).result;const{toBeDeleted:p,toBeKept:d,toBeAdded:h}=partitionRecords(f,u.records);console.log("Records that will be deleted:");await Promise.all(p.map((async e=>{if(!a){try{if(!e?.id)throw"Record doesn't have an ID - Can't delete";await i.dnsRecords.del(l,e.id);console.log("✔ ",printRemoteRecord(e))}catch(n){console.log("❌ ",printRemoteRecord(e));console.log(n);t.setFailed(n);(0,r.exit)(-1)}}})));console.log("Records that will be kept:");d.forEach((e=>{console.log("✔ ",printRemoteRecord(e))}));console.log("Records that will be added:");await Promise.all(h.map((async n=>{if(!a){try{const t={type:n.type,name:n.name,content:n.content,ttl:n?.ttl??1,proxied:n?.proxied??true};if(n.type==="MX"){t["priority"]=n.priority??10;t["proxied"]=false}await i.dnsRecords.add(l,t);console.log("✔ ",printConfigRecord(n,e))}catch(o){console.log("❌ ",printConfigRecord(n,e));console.log(o);t.setFailed(o);(0,r.exit)(-1)}}})))};main()})();